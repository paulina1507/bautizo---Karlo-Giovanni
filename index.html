<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title id="pageTitle"></title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/reset.css" />
    <link rel="stylesheet" href="assets/css/variables.css" />
    <link rel="stylesheet" href="assets/css/base.css" />
    <link rel="stylesheet" href="assets/css/layout.css" />
    <link rel="stylesheet" href="assets/css/header.css" />
    <link rel="stylesheet" href="assets/css/hero.css" />
    <link rel="stylesheet" href="assets/css/sections.css" />
    <link rel="stylesheet" href="assets/css/gallery.css" />
    <link rel="stylesheet" href="assets/css/rsvp.css" />
    <link rel="stylesheet" href="assets/css/footer.css" />
  </head>

  <body>
    <!-- ================= MUSIC PLAYER ================= -->
    <button id="musicToggle" class="music-toggle" aria-label="M√∫sica">
      <img id="musicIcon" src="assets/img/play.svg" />
    </button>

    <audio id="bgMusic" loop playsinline></audio>

    <!-- ========================= HEADER ========================= -->
    <header class="header" id="header">
      <div class="header-container">
        <nav class="nav nav-left" id="navLeft"></nav>

        <div class="header-logo">
          <a href="#hero" id="headerLogo"></a>
        </div>

        <nav class="nav nav-right" id="navRight"></nav>

        <button class="menu-toggle" id="menuToggle">‚ò∞</button>
      </div>
    </header>

    <!-- ================= SOBRE ================= -->
    <div id="envelopeOverlay" class="envelope-overlay">
      <div class="envelope">
        <div class="flap front"></div>
        <div class="flap top"></div>
        <div class="letter"></div>
        <div id="sealButton" class="seal">
          <img src="assets/img/sello.svg" alt="" />
        </div>
      </div>
    </div>

    <!-- ================= HERO ================= -->
    <section id="hero" class="hero">
      <div class="hero-bg"></div>
      <div class="hero-overlay"></div>

      <div class="hero-content">
        <span class="hero-pretitle" id="heroPretitle"></span>
        <h1 class="hero-names" id="heroNames"></h1>
        <div class="hero-divider"></div>
        <div id="countdownTimer" class="hero-countdown"></div>
      </div>

      <div class="hero-scroll"><span></span></div>
    </section>
    <!-- ================= PRESENTACI√ìN ================= -->
    <section id="presentation" class="section section--framed">
      <div class="frame-box">
        <div class="presentation-content">
          <h2 class="section-title reveal-title" id="presentationTitle"></h2>

          <!-- PADRES -->
          <div
            class="presentation-parents reveal-left"
            id="presentationParents"
          ></div>

          <!-- PADRINOS -->
          <div
            class="presentation-parents reveal-right"
            id="presentationPadrinos"
          ></div>

          <!-- TEXTO -->
          <p class="presentation-text reveal-left" id="presentationText"></p>

          <img id="presentationIcon" class="presentation-icon" alt="" />
        </div>
      </div>
    </section>

    <!-- ================= LUGAR ================= -->
    <section id="location" class="section section--flowers section--soft">
      <div class="flower flower--top"></div>
      <div class="flower flower--bottom"></div>

      <div class="container text-center">
        <h2 class="section-title reveal-title" id="locationTitle"></h2>
        <p class="location-subtitle reveal-left" id="locationSubtitle"></p>

        <div class="location-box">
          <p class="location-date reveal-right" id="locationDate"></p>
          <div class="location-grid reveal-left" id="locationGrid"></div>
        </div>
      </div>
    </section>

    <!-- ================= PROGRAMA ================= -->
    <section id="timeline" class="section section--framed">
      <div class="frame-box">
        <h2 class="section-title reveal-title" id="timelineTitle"></h2>

        <div class="timeline-vertical" id="timelineContainer">
          <div class="timeline-line"></div>
        </div>
      </div>
    </section>
    <!-- ================= Agradecimiento ================= -->
    <section class="section section--flowers section--soft section--verse">
      <div class="flower flower--top"></div>
      <div class="container text-center">
        <h2 class="section-title reveal-title" id="gratitudeTitle"></h2>
        <div class="divider"></div>
        <p class="gratitude-text reveal-left" id="gratitudeText"></p>
        <img src="assets/img/paloma.svg" class="verse-dove" alt="" />
      </div>
    </section>

    <!-- ================= VESTIMENTA ================= 
  <section id="dresscode" class="section section--framed">
    <div class="frame-box">
      <div class="dresscode-content">
        <h2 class="section-title reveal-title" id="dresscodeTitle"></h2>
        <div class="divider"></div>

        <img id="dresscodeImage" class="dresscode-illustration" alt="" />

        <h3 class="dresscode-type reveal-right" id="dresscodeType"></h3>

        <div class="dresscode-grid reveal-left">
          <div class="dresscode-col">
            <h4 id="dresscodeMenTitle"></h4>
            <ul id="dresscodeMen"></ul>
          </div>

          <div class="dresscode-col reveal-right">
            <h4 id="dresscodeWomenTitle"></h4>
            <ul id="dresscodeWomen"></ul>
          </div>
        </div>

        <p class="dresscode-note" id="dresscodeNote"></p>
      </div>
    </div>
  </section>
-->

    <!-- ================= GALER√çA ================= -->
    <section id="gallery" class="section section--flowers section--soft">
      <div class="flower flower--bottom"></div>

      <div class="container">
        <h2
          class="section-title reveal-title text-center"
          id="galleryTitle"
        ></h2>
        <div class="divider"></div>

        <div class="gallery-box">
          <div class="gallery-grid" id="galleryGrid"></div>
        </div>
      </div>
    </section>

    <!-- ================= RSVP ================= -->
    <section id="rsvp" class="section section--accent" data-wa="522214335711">
      <div class="container">
        <div class="rsvp-content text-center">
          <!-- T√çTULO -->
          <h2 class="section-title reveal-title" id="rsvpTitle"></h2>
          <div class="divider"></div>

          <!-- INTRO -->
          <p class="rsvp-intro reveal-left" id="rsvpIntro"></p>

          <!-- =================
           FORMULARIO RSVP
           ================= -->
          <form class="rsvp-form" id="rsvpForm">
            <!-- NOMBRE (PRELLENADO DESDE PANEL) -->
            <div class="rsvp-field">
              <label>Invitado</label>
              <input type="text" id="rsvpName" />
              <small class="rsvp-helper">
                Este nombre fue asignado por los anfitriones
              </small>
            </div>

            <!-- ASISTENCIA -->
            <div class="rsvp-field">
              <label>¬øPodr√°s acompa√±arnos?</label>
              <select id="rsvpAttendance" required></select>
            </div>

            <!-- MENSAJE -->
            <div class="rsvp-field optional">
              <label>Mensaje (opcional)</label>
              <textarea id="rsvpMessage"></textarea>
            </div>

            <!-- BOT√ìN -->
            <button
              type="submit"
              class="btn btn-primary rsvp-submit"
              id="rsvpButton"
            >
              Confirmar por WhatsApp
            </button>
          </form>

          <p class="rsvp-note" id="rsvpNote"></p>

          <!-- MENSAJE FINAL -->
          <div class="rsvp-success hidden" id="rsvpSuccess"></div>
        </div>
      </div>
    </section>

    <!-- ================= FOOTER ================= -->
    <footer class="footer">
      <div class="container text-center">
        <p id="footerNames"></p>
        <small id="footerCredits"></small>

        <div class="footer-social">
          <a
            href="https://www.instagram.com/shinymakerstudio"
            target="_blank"
            aria-label="Instagram"
          >
            <img src="assets/img/ig.png" alt="Instagram" />
          </a>

          <a
            href="https://wa.me/522212706617"
            target="_blank"
            aria-label="WhatsApp"
          >
            <img src="assets/img/wh.png" alt="WhatsApp" />
          </a>

          <a
            href="https://www.facebook.com/profile.php?id=61587591115184"
            target="_blank"
            aria-label="Facebook"
          >
            <img src="assets/img/fb.png" alt="Facebook" />
          </a>
        </div>
        <div class="footer-website">
          <a href="https://shiny-maker.com/" target="_blank">
            https://shiny-maker.com/
          </a>
        </div>
      </div>
    </footer>
    <script>
      document
        .getElementById("rsvpForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const nombre = document.getElementById("rsvpName").value.trim();
          const asistencia = document.getElementById("rsvpAttendance").value;
          const mensaje = document.getElementById("rsvpMessage").value.trim();

          if (!nombre) return alert("Por favor escribe tu nombre üòä");
          if (!asistencia) return alert("Selecciona tu respuesta üòä");

          const numeroFiesta = document.getElementById("rsvp").dataset.wa;
          if (!numeroFiesta) return alert("Falta configurar el WhatsApp.");

          // üëá Tomamos el nombre del evento desde el JSON
          const nombreEvento =
            document.getElementById("heroNames")?.textContent.trim() ||
            "el ni√±o";

          let textoWA = "";

          if (asistencia === "S√≠ asistir√©") {
            textoWA = `Hola
Soy ${nombre}.
Con mucha alegr√≠a confirmo mi asistencia al Bautizo de ${nombreEvento}.
${mensaje ? `Mi mensaje: ${mensaje}` : "Nos vemos pronto "}`;
          } else {
            textoWA = `Hola
Soy ${nombre}.
Lamentablemente no podr√© acompa√±arlos en el Bautizo de ${nombreEvento}.
${mensaje ? `Mi mensaje: ${mensaje}` : "Les mando un abrazo con cari√±o "}`;
          }

          const url = `https://wa.me/${numeroFiesta}?text=${encodeURIComponent(textoWA)}`;
          window.open(url, "_blank");

          const ok = document.getElementById("rsvpSuccess");
          if (ok) {
            ok.classList.remove("hidden");

            ok.textContent =
              asistencia === "S√≠ asistir√©"
                ? `¬°Gracias ${nombre}! Tu confirmaci√≥n fue enviada ü§ç`
                : `Gracias ${nombre} por avisarnos ü§ç`;
          }

          this.reset();
        });
    </script>

    <!-- JS -->
    <script src="assets/js/data-loader.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/countdown.js"></script>
    <script src="assets/js/gallery.js"></script>
  </body>
</html>
